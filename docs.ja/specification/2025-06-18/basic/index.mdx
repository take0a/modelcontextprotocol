---
title: Overview
---

<div id="enable-section-numbers" />

<Info>**Protocol Revision**: 2025-06-18</Info>

モデルコンテキストプロトコルは、連携して動作する複数の主要コンポーネントで構成されています。

- **基本プロトコル**: コアとなるJSON-RPCメッセージタイプ
- **ライフサイクル管理**: 接続の初期化、機能ネゴシエーション、セッション制御
- **承認**: HTTPベースのトランスポートのための認証および承認フレームワーク
- **サーバー機能**: サーバーが公開するリソース、プロンプト、ツール
- **クライアント機能**: クライアントが提供するサンプリングとルートディレクトリリスト
- **ユーティリティ**: ログ記録や引数補完などの横断的な関心事

すべての実装は、基本プロトコルとライフサイクル管理コンポーネントを**サポートしなければなりません**。
その他のコンポーネントは、アプリケーションの特定のニーズに基づいて実装できます**。

これらのプロトコル層は、クライアントとサーバー間の高度なインタラクションを可能にしながら、明確な関心事の分離を確立します。

モジュール設計により、実装は必要な機能だけをサポートできます。

## メッセージ

MCPクライアントとサーバー間のすべてのメッセージは、[JSON-RPC 2.0](https://www.jsonrpc.org/specification)仕様に**準拠する必要があります**。
このプロトコルでは、以下の種類のメッセージが定義されています。

### リクエスト

リクエストは、操作を開始するためにクライアントからサーバーへ、またはサーバーからクライアントへ送信されます。

```typescript
{
  jsonrpc: "2.0";
  id: string | number;
  method: string;
  params?: {
    [key: string]: unknown;
  };
}
```

- リクエストには文字列または整数の ID を含める必要があります。
- 基本的な JSON-RPC とは異なり、ID は `null` であってはなりません。
- リクエスト ID は、リクエスト元が同じセッション内で以前に使用してはなりません。

### レスポンス

レスポンスはリクエストへの応答として送信され、操作の結果またはエラーが含まれます。

```typescript
{
  jsonrpc: "2.0";
  id: string | number;
  result?: {
    [key: string]: unknown;
  }
  error?: {
    code: number;
    message: string;
    data?: unknown;
  }
}
```

- レスポンスには、対応するリクエストと同じIDが**含まれている必要があります**。
- **レスポンス**はさらに**成功結果**または**エラー**に分類されます。`result`または`error`のいずれかが**必ず**設定されなければなりません。レスポンスでは両方を設定してはなりません**。
- 結果は任意のJSONオブジェクト構造に従っても構いません**が、エラーには少なくともエラーコードとメッセージが**含まれている必要があります**。
- エラーコードは整数でなければなりません**。

### 通知

通知は、クライアントからサーバーへ、またはサーバーからクライアントへ、一方向のメッセージとして送信されます。
受信者は**応答を送信してはなりません**。

```typescript
{
  jsonrpc: "2.0";
  method: string;
  params?: {
    [key: string]: unknown;
  };
}
```

- 通知には ID を含めることはできません。

## 認証

MCP は、HTTP で使用するための [認可](/specification/2025-06-18/basic/authorization) フレームワークを提供します。
HTTP ベースのトランスポートを使用する実装は**この仕様に準拠するべき**ですが、STDIO トランスポートを使用する実装は**この仕様に準拠すべき**ではなく、環境から資格情報を取得する必要があります。

さらに、クライアントとサーバーは、独自のカスタム認証および認可戦略をネゴシエートできます**。

MCP の認証メカニズムの進化に関するさらなる議論や貢献については、[GitHub ディスカッション](https://github.com/modelcontextprotocol/specification/discussions) にご参加いただき、プロトコルの将来像を形作ってください。

## スキーマ

プロトコルの完全な仕様は、[TypeScript スキーマ](https://github.com/modelcontextprotocol/specification/blob/main/schema/2025-06-18/schema.ts) として定義されています。
これは、すべてのプロトコルメッセージと構造の信頼できる情報源です。

また、[JSON スキーマ](https://github.com/modelcontextprotocol/specification/blob/main/schema/2025-06-18/schema.json) も存在します。これは、TypeScript の信頼できる情報源から自動的に生成され、さまざまな自動化ツールで使用できます。

### 一般フィールド

#### `_meta`

`_meta` プロパティ/パラメータは、クライアントとサーバーが相互作用に追加のメタデータを添付できるようにするために、MCP によって予約されています。

特定のキー名は、以下に指定されているように、プロトコルレベルのメタデータ用に MCP によって予約されています。
実装では、これらのキーの値について想定してはなりません。

さらに、[スキーマ](https://github.com/modelcontextprotocol/specification/blob/main/schema/2025-06-18/schema.ts) 内の定義では、定義内で宣言されているように、目的固有のメタデータ用に特定の名前を予約する場合があります。

**キー名の形式:** 有効な `_meta` キー名は、オプションの **プレフィックス** と **名前** の 2 つのセグメントで構成されます。

**プレフィックス:**

- 指定する場合は、ドット (`.`) で区切られた一連のラベルと、それに続くスラッシュ (`/`) でなければなりません。
  - ラベルは文字で始まり、文字または数字で終わる必要があります。間の文字には、文字、数字、またはハイフン (`-`) を使用できます。
- 0 個以上の有効なラベルで始まり、その後に `modelcontextprotocol` または `mcp` が続き、その後に任意の有効なラベルが続くプレフィックスは、MCP 用に **予約済み** です。
  - たとえば、`modelcontextprotocol.io/`、`mcp.dev/`、`api.modelcontextprotocol.org/`、`tools.mcp.com/` はすべて予約済みです。

**名前:**

- 空でない限り、先頭と末尾は英数字 (`[a-z0-9A-Z]`) でなければなりません。
- ハイフン (`-`)、アンダースコア (`_`)、ドット (`.`)、および間に英数字を含めることができます。
